services:
  agents:
    container_name: ddev-${DDEV_PROJECT}-agents
    # Microsoft's "Kitchen Sink" image - perfect for AI Agents
    image: mcr.microsoft.com/devcontainers/universal:2
    hostname: agents
    user: vscode
    restart: "no"
    # Mount the project root to /workspace
    volumes:
      - ../:/workspace:cached
      - ddev-global-cache:/mnt/ddev-global-cache
    working_dir: /workspace
    environment:
      - DDEV_PROJECT=${DDEV_PROJECT}
    # Keep the container alive
    command: ["sleep", "infinity"]
    labels:
      com.ddev.site-name: ${DDEV_PROJECT}
      com.ddev.app-type: agents